<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kh√°m Ph√° B·∫£n Th√¢n C√πng Vi·ªát M·ªπ</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%; animation: gradientBG 15s ease infinite;
            color: #2d3748; min-height: 100vh; padding-top: 30px; padding-bottom: 50px; overflow-x: hidden;
        }
        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        
        .logo-container { text-align: center; margin-bottom: 20px; }
        .main-logo { max-width: 250px; height: auto; animation: floatLogo 3s ease-in-out infinite; filter: drop-shadow(0px 10px 10px rgba(0,0,0,0.2)); }
        @keyframes floatLogo { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        .card-custom {
            background: rgba(255, 255, 255, 0.95); border-radius: 24px; box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1); backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5); padding: 35px; margin-bottom: 25px;
        }
        
        .form-control, .form-select { border-radius: 16px; padding: 15px 20px; border: 2px solid #e2e8f0; background: rgba(255, 255, 255, 0.9); font-weight: 500; color: #1e293b; transition: all 0.3s; }
        .form-control:focus, .form-select:focus { background: #ffffff; box-shadow: 0 0 0 5px rgba(118, 75, 162, 0.15); border-color: #764ba2; outline: none; }
        .form-label { font-weight: 700; color: #334155; margin-bottom: 8px; font-size: 0.95rem; }

        .btn-submit {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; font-weight: 800; font-size: 1.3rem; padding: 20px 30px; border-radius: 50px; border: none; text-transform: uppercase; letter-spacing: 1px; transition: all 0.3s ease; box-shadow: 0 10px 25px rgba(118, 75, 162, 0.4);
        }
        .btn-submit:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(118, 75, 162, 0.6); color: white; }
        .btn-submit:active { transform: translateY(2px); }
        
        .header-title { color: #ffffff; font-weight: 900; text-shadow: 0 4px 15px rgba(0,0,0,0.2); letter-spacing: -1px; }
        .section-title { font-weight: 800; color: #1e293b; margin-bottom: 25px; display: flex; align-items: center; gap: 12px; }
        .icon-gradient-1 { background: -webkit-linear-gradient(#ee7752, #e73c7e); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .icon-gradient-2 { background: -webkit-linear-gradient(#23a6d5, #23d5ab); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .icon-gradient-3 { background: -webkit-linear-gradient(#667eea, #764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        .btn-check-custom { width: 100%; cursor: pointer; margin-bottom: 15px; display: block; }
        .check-content { background: rgba(248, 250, 252, 0.7); border: 2px solid transparent; transition: all 0.3s ease; border-radius: 18px; padding: 18px 20px; }
        .btn-check-custom input:checked + .check-content { background: #ffffff; border-color: #667eea; box-shadow: 0 8px 20px rgba(102, 126, 234, 0.15); transform: translateY(-3px); }
        .check-content i { color: #94a3b8; transition: all 0.3s; font-size: 1.5rem; }
        .btn-check-custom input:checked + .check-content i.fa-gift { color: #f59e0b; }
        .btn-check-custom input:checked + .check-content i.fa-fire { color: #e73c7e; }
        .btn-check-custom input:checked + .check-content i.fa-puzzle-piece { color: #23d5ab; }
        .btn-check-custom input:checked + .check-content .title-text { color: #1e293b; font-weight: 800 !important; }

        .question-box { background: rgba(248, 250, 252, 0.6); padding: 22px; border-radius: 18px; margin-bottom: 20px; border: 1px solid rgba(226, 232, 240, 0.8); transition: all 0.3s; }
        .question-box:hover { background: #ffffff; border-color: #667eea; transform: scale(1.02); box-shadow: 0 10px 25px rgba(102, 126, 234, 0.15); }
        .question-box p { font-weight: 700; margin-bottom: 12px; font-size: 1.05rem; }
        .form-check-label { cursor: pointer; font-weight: 500; padding-left: 5px; }
        .form-check-input { width: 1.4em; height: 1.4em; cursor: pointer; border-color: #cbd5e1; margin-top: 0.15em; }
        .form-check-input:checked { background-color: #e73c7e; border-color: #e73c7e; }

        .dynamic-section { display: none; }
        .swal2-popup { border-radius: 25px !important; padding: 25px !important; }
        .swal-result-box { background: #f8fafc; border-radius: 16px; padding: 20px; margin-bottom: 15px; border-left: 6px solid; text-align: left; box-shadow: 0 4px 15px rgba(0,0,0,0.05);}
        .swal-result-box.grad { border-color: #e73c7e; }
        .swal-result-box.holland { border-color: #23d5ab; }
        .swal-result-box.lucky { border-color: #f59e0b; }
        .swal-big-text { font-size: 2.2rem; font-weight: 900; line-height: 1.2; margin: 10px 0; letter-spacing: -0.5px; }
        
        #loading { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.9); backdrop-filter: blur(8px); z-index: 9999; flex-direction: column; justify-content: center; align-items: center; }
        .lucky-display { font-family: 'Courier New', Courier, monospace; letter-spacing: 5px; background: #fffbeb; border: 3px dashed #f59e0b; }

        @media (max-width: 768px) {
            .card-custom { padding: 20px; margin-bottom: 15px; border-radius: 20px; }
            .header-title { font-size: 2rem; }
            .form-control, .form-select { padding: 12px 15px; font-size: 16px; }
            .btn-submit { font-size: 1.1rem; padding: 15px 20px; width: 100%; }
            .question-box { padding: 15px; }
            .swal2-popup { padding: 15px !important; width: 95% !important; }
            .swal-big-text { font-size: 1.6rem; }
            .check-content { padding: 12px 15px; }
            .check-content i { font-size: 1.2rem; }
            .lucky-display { font-size: 2rem !important; letter-spacing: 2px; }
        }
    </style>
</head>
<body>

    <div class="container animate__animated animate__fadeInDown">
        
        <div class="logo-container">
            <img src="https://raw.githubusercontent.com/duongcanhquan/image/main/Logo%20Cao%20%C4%91a%CC%86%CC%89ng%20Vie%CC%A3%CC%82t%20My%CC%83%20-%20ba%CC%89n%20chua%CC%82%CC%89n%202025-01.png" alt="Logo Cao ƒê·∫≥ng Vi·ªát M·ªπ" class="main-logo">
        </div>

        <div class="text-center mb-4 mb-md-5">
            <h1 class="header-title display-5">üöÄ T∆Ø∆†NG LAI TRONG TAY B·∫†N</h1>
            <p class="text-white fs-5 opacity-75 fw-medium px-2">ƒê·ªãnh h∆∞·ªõng ng√†nh ngh·ªÅ & Rinh l·ªôc may m·∫Øn c√πng Vi·ªát M·ªπ!</p>
        </div>

        <form id="mainForm">
            
            <div class="card-custom border-0" style="box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);">
                <h3 class="section-title text-center justify-content-center mb-2"><i class="fa-solid fa-layer-group icon-gradient-2 fa-lg"></i> B·∫°n Mu·ªën Kh√°m Ph√° G√¨?</h3>
                <p class="text-muted fw-medium mb-4 text-center">Ch·∫°m v√†o c√°c th·∫ª b√™n d∆∞·ªõi ƒë·ªÉ b·∫Øt ƒë·∫ßu nh√© (C√≥ th·ªÉ ch·ªçn nhi·ªÅu m·ª•c).</p>
                
                <div class="row">
                    <div class="col-md-4">
                        <label class="btn-check-custom">
                            <input class="form-check-input check-experience d-none" type="checkbox" value="sec-lucky" id="chkLucky">
                            <div class="check-content d-flex align-items-center justify-content-center">
                                <i class="fa-solid fa-gift me-3"></i>
                                <span class="fs-5 fw-semibold text-muted title-text">R√∫t m√£ L√¨ X√¨</span>
                            </div>
                        </label>
                    </div>
                    <div class="col-md-4">
                        <label class="btn-check-custom">
                            <input class="form-check-input check-experience d-none" type="checkbox" value="sec-grad" id="chkGrad">
                            <div class="check-content d-flex align-items-center justify-content-center">
                                <i class="fa-solid fa-fire me-3"></i>
                                <span class="fs-5 fw-semibold text-muted title-text"> T√≠nh T·ª∑ l·ªá ƒë·ªó t·ªët nghi·ªáp. </span>
                            </div>
                        </label>
                    </div>
                    <div class="col-md-4">
                        <label class="btn-check-custom">
                            <input class="form-check-input check-experience d-none" type="checkbox" value="sec-holland" id="chkHolland">
                            <div class="check-content d-flex align-items-center justify-content-center">
                                <i class="fa-solid fa-puzzle-piece me-3"></i>
                                <span class="fs-5 fw-semibold text-muted title-text">B·∫°n th·ª±c s·ª± h·ª£p ng√†nh ngh·ªÅ n√†o? </span>
                            </div>
                        </label>
                    </div>
                </div>
            </div>

            <div id="sec-lucky" class="card-custom dynamic-section text-center animate__animated animate__fadeInUp">
                <h3 class="section-title justify-content-center"><i class="fa-solid fa-envelope-open-text icon-gradient-1 fa-lg"></i> Nh·∫≠n L√¨ X√¨ Khai Xu√¢n</h3>
                <p class="fs-5 text-muted fw-medium mb-4">Nh·∫•n n√∫t b√™n d∆∞·ªõi ƒë·ªÉ h·ªá th·ªëng sinh ng·∫´u nhi√™n m√£ s·ªë may m·∫Øn cho b·∫°n.</p>
                
                <div class="lucky-display display-4 fw-bold text-warning rounded-4 p-4 mx-auto mb-4 w-75" id="luckyDisplay">
                    ---------
                </div>
                
                <button type="button" class="btn btn-warning text-dark fw-bold rounded-pill px-4 py-3 shadow" id="btnSpin" onclick="spinLuckyNumber()">
                    <i class="fa-solid fa-rotate me-2"></i> B·∫§M ƒê·ªÇ QUAY S·ªê NH·∫¨N M√É
                </button>
                <input type="hidden" id="luckyCodeInput" name="luckyCodeInput" value="">
            </div>

            <div id="sec-grad" class="card-custom dynamic-section animate__animated animate__fadeInUp">
                <h3 class="section-title"><i class="fa-solid fa-fire icon-gradient-1 fa-lg"></i> T·ª∑ L·ªá ƒê·ªó T·ªët Nghi·ªáp</h3>
                
                <div class="question-box">
                    <p>C√¢u 1Ô∏è‚É£ G·∫ßn ng√†y thi, t√¢m tr·∫°ng h·ªçc t·∫≠p c·ªßa b·∫°n l√†:</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g1" value="A"> <label class="form-check-label">A. V·∫´n h·ªçc ƒë·ªÅu, kh√¥ng qu√° ho·∫£ng üòé</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g1" value="B"> <label class="form-check-label">B. C√≥ h∆°i √°p l·ª±c nh∆∞ng v·∫´n c·ªë g·∫Øng üìö</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g1" value="C"> <label class="form-check-label">C. H·ªçc tr∆∞·ªõc qu√™n sau, h∆°i r·ªëi üòµ</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="g1" value="D"> <label class="form-check-label">D. Nghƒ© t·ªõi thi l√† th·∫•y cƒÉng li·ªÅn ü´†</label></div>
                </div>
                <div class="question-box">
                    <p>C√¢u 2Ô∏è‚É£ M·ªói ng√†y b·∫°n d√†nh bao l√¢u ƒë·ªÉ √¥n b√†i?</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g2" value="A"> <label class="form-check-label">A. Tr√™n 3 ti·∫øng ‚è∞</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g2" value="B"> <label class="form-check-label">B. 1‚Äì2 ti·∫øng ‚è±Ô∏è</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g2" value="C"> <label class="form-check-label">C. Khi n√†o r·∫£nh m·ªõi √¥n üòÖ</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="g2" value="D"> <label class="form-check-label">D. Ch·ªß y·∫øu l√†‚Ä¶ ƒë·ªÉ mai üì±</label></div>
                </div>
                <div class="question-box">
                    <p>C√¢u 3Ô∏è‚É£ K·∫øt qu·∫£ b√†i thi th·ª≠ g·∫ßn ƒë√¢y c·ªßa b·∫°n:</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g3" value="A"> <label class="form-check-label">A. Ph·∫ßn l·ªõn tr√™n 7 ƒëi·ªÉm üëç</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g3" value="B"> <label class="form-check-label">B. Kho·∫£ng 6‚Äì7 ƒëi·ªÉm</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g3" value="C"> <label class="form-check-label">C. D∆∞·ªõi 6 ƒëi·ªÉm</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="g3" value="D"> <label class="form-check-label">D. Kh√¥ng ·ªïn ƒë·ªãnh, l√∫c ƒë∆∞·ª£c l√∫c kh√¥ng üò≠</label></div>
                </div>
                <div class="question-box">
                    <p>C√¢u 4Ô∏è‚É£ Khi g·∫∑p c√¢u kh√≥ trong ƒë·ªÅ, b·∫°n th∆∞·ªùng:</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g4" value="A"> <label class="form-check-label">A. B·ªè qua, l√†m c√¢u d·ªÖ tr∆∞·ªõc r·ªìi quay l·∫°i üí°</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g4" value="B"> <label class="form-check-label">B. Nghƒ© m·ªôt l√∫c r·ªìi ch·ªçn ƒë√°p √°n h·ª£p l√Ω</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g4" value="C"> <label class="form-check-label">C. L√†m ƒë·∫°i cho k·ªãp gi·ªù</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="g4" value="D"> <label class="form-check-label">D. Ng·ªìi nh√¨n ƒë·ªìng h·ªì ch·∫°y ‚è∞üò∂</label></div>
                </div>
                <div class="question-box">
                    <p>C√¢u 5Ô∏è‚É£ Khi nh√¨n ƒë·ªÅ thi th·ª≠, c·∫£m gi√°c c·ªßa b·∫°n l√†:</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g5" value="A"> <label class="form-check-label">A. Nhi·ªÅu c√¢u quen, l√†m ƒë∆∞·ª£c ngay</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g5" value="B"> <label class="form-check-label">B. C√≥ quen c√≥ l·∫°</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g5" value="C"> <label class="form-check-label">C. Th·∫•y l·∫° l√† nhi·ªÅu</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="g5" value="D"> <label class="form-check-label">D. Nh√¨n m√† mu·ªën‚Ä¶ quay xe ü´†</label></div>
                </div>
            </div>

            <div id="sec-holland" class="card-custom dynamic-section animate__animated animate__fadeInUp">
                <h3 class="section-title"><i class="fa-solid fa-puzzle-piece icon-gradient-2 fa-lg"></i> Tr·∫Øc Nghi·ªám Holland</h3>
                
                <div class="question-box">
                    <p>1. N·∫øu chi·∫øc xe/m√°y t√≠nh b·ªã h·ªèng, b·∫°n s·∫Ω:</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h1" value="A"> <label class="form-check-label">A. M·ªü ra t√¨m hi·ªÉu c·∫•u t·∫°o, t·ª± s·ª≠a.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h1" value="B"> <label class="form-check-label">B. T√¨m video h∆∞·ªõng d·∫´n chi ti·∫øt.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h1" value="C"> <label class="form-check-label">C. Thu√™ th·ª£ gi·ªèi ƒë·∫øn s·ª≠a v√† quan s√°t.</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="h1" value="D"> <label class="form-check-label">D. K√™u g·ªçi b·∫°n b√®/ng∆∞·ªùi th√¢n gi√∫p ƒë·ª°.</label></div>
                </div>
                <div class="question-box">
                    <p>2. Ch·ªçn m√¥n h·ªçc ngo·∫°i kh√≥a, b·∫°n th√≠ch nh·∫•t:</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h2" value="A"> <label class="form-check-label">A. CLB D·ª±ng phim / Thi·∫øt k·∫ø.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h2" value="B"> <label class="form-check-label">B. CLB T√¨nh nguy·ªán h·ªó tr·ª£ tr·∫ª em.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h2" value="C"> <label class="form-check-label">C. CLB Kh·ªüi nghi·ªáp & Kinh doanh.</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="h2" value="D"> <label class="form-check-label">D. CLB Nghi√™n c·ª©u Robot / V·∫≠t l√Ω.</label></div>
                </div>
                <div class="question-box">
                    <p>3. Trong d·ª± √°n nh√≥m, vai tr√≤ n√†o khi·∫øn b·∫°n h√†o h·ª©ng?</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h3" value="A"> <label class="form-check-label">A. Ng∆∞·ªùi thu th·∫≠p, s·∫Øp x·∫øp l·ªãch tr√¨nh.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h3" value="B"> <label class="form-check-label">B. Ng∆∞·ªùi l√™n √Ω t∆∞·ªüng, "b√°n" √Ω t∆∞·ªüng.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h3" value="C"> <label class="form-check-label">C. Th·ª±c hi·ªán t·∫°o h√¨nh, ƒë·ªì h·ªça, l·ªùi vƒÉn.</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="h3" value="D"> <label class="form-check-label">D. Ng∆∞·ªùi h∆∞·ªõng d·∫´n, l·∫Øng nghe, h√≤a gi·∫£i.</label></div>
                </div>
                <div class="question-box">
                    <p>4. Khi ƒë·ªçc t√†i li·ªáu m·ªõi, ƒëi·ªÅu g√¨ h·∫•p d·∫´n b·∫°n nh·∫•t?</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h4" value="A"> <label class="form-check-label">A. Con s·ªë, bi·ªÉu ƒë·ªì, quy tr√¨nh.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h4" value="B"> <label class="form-check-label">B. Gi·∫£ thuy·∫øt khoa h·ªçc, b·∫±ng ch·ª©ng logic.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h4" value="C"> <label class="form-check-label">C. C√¢u chuy·ªán truy·ªÅn c·∫£m h·ª©ng th√†nh c√¥ng.</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="h4" value="D"> <label class="form-check-label">D. √ù t∆∞·ªüng thi·∫øt k·∫ø, ng√¥n ng·ªØ h√¨nh ·∫£nh.</label></div>
                </div>
                <div class="question-box">
                    <p>5. Trong th·ªùi gian r·∫£nh, b·∫°n th√≠ch nh·∫•t l√†m g√¨?</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h5" value="A"> <label class="form-check-label">A. D·∫°y l·∫°i ki·∫øn th·ª©c ho·∫∑c l√†m gia s∆∞.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h5" value="B"> <label class="form-check-label">B. L√†m v∆∞·ªùn, t·∫≠p gym, ph∆∞·ª£t, l·∫Øp r√°p.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h5" value="C"> <label class="form-check-label">C. Vi·∫øt nh·∫≠t k√Ω, v·∫Ω, s√°ng t√°c nh·∫°c.</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="h5" value="D"> <label class="form-check-label">D. L√™n k·∫ø ho·∫°ch chi ti√™u, s·∫Øp x·∫øp m√°y t√≠nh.</label></div>
                </div>
                <div class="question-box">
                    <p>6. Gi·∫£ s·ª≠ b·∫°n nh·∫∑t ƒë∆∞·ª£c ti·ªÅn, b·∫°n s·∫Ω:</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h6" value="A"> <label class="form-check-label">A. ƒêem ƒë·∫ßu t∆∞, kinh doanh nh·ªè sinh l·ªùi.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h6" value="B"> <label class="form-check-label">B. Ph√¢n t√≠ch ngu·ªìn g·ªëc ƒë·ªÉ t√¨m tr·∫£ l·∫°i.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h6" value="C"> <label class="form-check-label">C. T·ªï ch·ª©c ti·ªác t√πng cho b·∫°n b√®.</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="h6" value="D"> <label class="form-check-label">D. Mua thi·∫øt b·ªã ph·ª•c v·ª• s·ªü th√≠ch c√° nh√¢n.</label></div>
                </div>
            </div>

            <div class="card-custom mt-5" style="border: 2px solid #764ba2; position: relative; overflow: hidden;">
                <div style="position: absolute; top: 0; left: 0; width: 100%; height: 6px; background: linear-gradient(90deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);"></div>
                
                <div class="text-center mb-4">
                    <h3 class="fw-bold text-primary mb-2"><i class="fa-solid fa-gift text-danger me-2"></i> Nh·∫≠n K·∫øt Qu·∫£ Ngay!</h3>
                    <p class="fs-6 text-muted fw-medium">H√£y ƒëi·ªÅn th√¥ng tin ƒë·ªÉ Th·∫ßy C√¥ g·ª≠i k·∫øt qu·∫£ ph√¢n t√≠ch chi ti·∫øt cho b·∫°n nh√©!</p>
                </div>
                
                <div class="row g-3 g-md-4">
                    <div class="col-md-6">
                        <label class="form-label">H·ªç v√† t√™n h·ªçc sinh <span class="text-danger">*</span></label>
                        <input type="text" class="form-control shadow-sm" id="fullName" required placeholder="Nh·∫≠p h·ªç t√™n ƒë·∫ßy ƒë·ªß...">
                    </div>
                    
                    <div class="col-md-6">
                        <label class="form-label">Ng√†y sinh <span class="text-danger">*</span></label>
                        <input type="text" inputmode="numeric" class="form-control shadow-sm" id="dob" placeholder="DD/MM/YYYY (V√≠ d·ª•: 25/05/2006)" required>
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">SƒêT Zalo (Nh·∫≠n k·∫øt qu·∫£) <span class="text-danger">*</span></label>
                        <input type="tel" class="form-control shadow-sm" id="zalo" pattern="[0-9]{10}" maxlength="10" title="Vui l√≤ng nh·∫≠p ch√≠nh x√°c 10 ch·ªØ s·ªë" required placeholder="V√≠ d·ª•: 0901234567">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">ƒê·ªãa ch·ªâ hi·ªán t·∫°i</label>
                        <input type="text" class="form-control shadow-sm" id="address" placeholder="Qu·∫≠n/Huy·ªán, T·ªânh/Th√†nh ph·ªë...">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">ƒêang h·ªçc tr∆∞·ªùng THPT</label>
                        <input type="text" class="form-control shadow-sm" id="school" placeholder="T√™n tr∆∞·ªùng THPT...">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Ng√†nh ngh·ªÅ mong mu·ªën</label>
                        <input type="text" class="form-control shadow-sm" id="major" placeholder="V√≠ d·ª•: Marketing, IT...">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Th·∫ßy/C√¥ t∆∞ v·∫•n (N·∫øu c√≥)</label>
                        <select class="form-select shadow-sm" id="teacher">
                            <option value="">ƒêang t·∫£i danh s√°ch...</option>
                        </select>
                    </div>
                </div>

                <div class="text-center mt-5">
                    <button type="submit" class="btn btn-submit shadow-lg w-100" id="btnSubmitAll">
                        <i class="fa-solid fa-paper-plane me-2"></i> G·ª¨I TH√îNG TIN V√Ä XEM K·∫æT QU·∫¢
                    </button>
                    <p class="mt-3 small text-muted"><i class="fa-solid fa-shield-halved text-success me-1"></i> Th√¥ng tin c·ªßa b·∫°n ƒë∆∞·ª£c b·∫£o m·∫≠t tuy·ªát ƒë·ªëi.</p>
                </div>
            </div>

        </form>
    </div>

    <div id="loading" class="d-none">
        <div class="spinner-border" style="width: 4rem; height: 4rem; color: #764ba2;" role="status"></div>
        <h3 class="mt-4 fw-bold text-center px-3" style="color: #667eea;">H·ªá th·ªëng ƒëang ph√¢n t√≠ch...</h3>
        <p class="text-muted fw-medium">Ch·ªù m·ªôt x√≠u xiu nh√© üöÄ</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // ==========================================
        // 1. D√ÅN LINK GOOGLE SCRIPT V√ÄO ƒê√ÇY
        // ==========================================
        const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyC5ZgzZoMpiZyJ7JK0EfyHQ572Obw0QRCiTvPMLj1rbu1I-KF0VJtcXUzBo-XX6wub2g/exec";

        // ==========================================
        // T√çNH NƒÇNG T·ª∞ ƒê·ªòNG FORMAT NG√ÄY SINH
        // ==========================================
        document.getElementById('dob').addEventListener('input', function (e) {
            // Ch·ªâ gi·ªØ l·∫°i s·ªë
            let x = e.target.value.replace(/\D/g, '').match(/(\d{0,2})(\d{0,2})(\d{0,4})/);
            // T·ª± ƒë·ªông ch√®n g·∫°ch ch√©o
            e.target.value = !x[2] ? x[1] : x[1] + '/' + x[2] + (x[3] ? '/' + x[3] : '');
        });

        // ==========================================
        // T·∫¢I DANH S√ÅCH TH·∫¶Y C√î
        // ==========================================
        function loadTeachersData() {
            if (!GOOGLE_SCRIPT_URL.includes("script.google.com")) return;
            const script = document.createElement('script');
            script.src = GOOGLE_SCRIPT_URL + "?callback=handleTeacherData";
            document.body.appendChild(script);
        }

        function handleTeacherData(data) {
            const select = document.getElementById('teacher');
            select.innerHTML = '<option value="">-- Ch·ªçn Th·∫ßy/C√¥ (T√πy ch·ªçn) --</option>';
            data.forEach(t => {
                let opt = document.createElement('option');
                opt.value = `${t.name} - ${t.email}`;
                opt.text = t.name;
                select.appendChild(opt);
            });
        }
        window.addEventListener('load', loadTeachersData);

        // ==========================================
        // HI·ªÇN TH·ªä & SCROLL ƒê·∫æN KH·ªêI B√ÄI TEST CHU·∫®N X√ÅC
        // ==========================================
        const checkBoxes = document.querySelectorAll('.check-experience');
        checkBoxes.forEach(cb => {
            cb.addEventListener('change', function() {
                const section = document.getElementById(this.value);
                if (this.checked) {
                    section.style.display = 'block';
                    
                    // L∆∞·ªõt m√†n h√¨nh m∆∞·ª£t m√† xu·ªëng ƒë√∫ng ph·∫ßn m√©p tr√™n (ti√™u ƒë·ªÅ) c·ªßa kh·ªëi
                    setTimeout(() => {
                        const yOffset = -20; // C√°ch m√©p tr√™n 20px cho tho√°ng
                        const y = section.getBoundingClientRect().top + window.pageYOffset + yOffset;
                        window.scrollTo({top: y, behavior: 'smooth'});
                    }, 150);

                } else {
                    section.style.display = 'none';
                }
                const radios = section.querySelectorAll('input[type="radio"]');
                radios.forEach(r => r.required = this.checked);
            });
        });

        // ==========================================
        // H√ÄM QUAY S·ªê L√å X√å
        // ==========================================
        let isSpun = false;
        function spinLuckyNumber() {
            if(isSpun) return;
            const btn = document.getElementById('btnSpin');
            const display = document.getElementById('luckyDisplay');
            const hiddenInput = document.getElementById('luckyCodeInput');
            
            btn.disabled = true;
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin me-2"></i> ƒêang quay s·ªë...';

            let count = 0;
            const interval = setInterval(() => {
                display.innerText = Math.floor(Math.random() * 900000000) + 100000000;
                count++;
                if(count > 25) { 
                    clearInterval(interval);
                    const d = new Date();
                    const yy = String(d.getFullYear()).slice(-2);
                    const mm = String(d.getMonth() + 1).padStart(2, '0');
                    const dd = String(d.getDate()).padStart(2, '0');
                    const rand = String(Math.floor(Math.random()*900)+100);
                    const finalCode = yy + mm + dd + rand;

                    display.innerText = finalCode;
                    display.classList.add('animate__animated', 'animate__tada', 'text-danger');
                    hiddenInput.value = finalCode; 
                    
                    btn.innerHTML = '<i class="fa-solid fa-check me-2"></i> ƒê√É NH·∫¨N M√É TH√ÄNH C√îNG';
                    btn.classList.replace('btn-warning', 'btn-success');
                    isSpun = true;
                    confetti({ particleCount: 150, spread: 80, origin: { y: 0.6 } });
                }
            }, 50);
        }

        // ==========================================
        // T√çNH TO√ÅN & G·ª¨I D·ªÆ LI·ªÜU
        // ==========================================
        document.getElementById('mainForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // T·ª± sinh m√£ n·∫øu tick ch·ªçn m√† qu√™n quay s·ªë
            if(document.getElementById('chkLucky').checked && !document.getElementById('luckyCodeInput').value) {
                const d = new Date();
                document.getElementById('luckyCodeInput').value = String(d.getFullYear()).slice(-2) + String(d.getMonth() + 1).padStart(2, '0') + String(d.getDate()).padStart(2, '0') + String(Math.floor(Math.random()*900)+100);
            }

            // √âp bu·ªôc ph·∫£i ch·ªçn √≠t nh·∫•t 1 m·ª•c
            let checkedCount = document.querySelectorAll('.check-experience:checked').length;
            if(checkedCount === 0) {
                Swal.fire({
                    icon: 'warning', title: '√ä khoan ƒë√£!', text: 'B·∫°n h√£y ch·∫°m v√†o c√°c th·∫ª b√™n tr√™n ƒë·ªÉ ch·ªçn √≠t nh·∫•t 1 b√†i Test nh√©!',
                    confirmButtonText: 'ƒê√£ hi·ªÉu', confirmButtonColor: '#764ba2'
                });
                window.scrollTo({ top: 0, behavior: 'smooth' });
                return;
            }

            document.getElementById('loading').classList.remove('d-none');
            document.getElementById('loading').classList.add('d-flex');

            let formData = new FormData(this);
            // Ng√†y sinh gi·ªù ƒë√£ c√≥ ƒë·ªãnh d·∫°ng DD/MM/YYYY chu·∫©n nh·ªù H√†m Format ·ªü tr√™n
            let dobFormatted = document.getElementById('dob').value; 

            let finalData = {
                fullName: document.getElementById('fullName').value, dob: dobFormatted,
                zalo: document.getElementById('zalo').value, address: document.getElementById('address').value,
                school: document.getElementById('school').value, major: document.getElementById('major').value,
                teacher: document.getElementById('teacher').value,
                g1: "", g2: "", g3: "", g4: "", g5: "", gradResult: "",
                h1: "", h2: "", h3: "", h4: "", h5: "", h6: "", hollandResult: "", 
                luckyCode: document.getElementById('luckyCodeInput').value 
            };

            let resultHTML = "";

            if(document.getElementById('chkGrad').checked) {
                let counts = { A: 0, B: 0, C: 0, D: 0 };
                for(let i=1; i<=5; i++) { let ans = formData.get('g'+i); finalData['g'+i] = ans || ""; if(ans) counts[ans]++; }
                let maxChar = 'A', maxCount = counts['A'];
                for(let key in counts) { if(counts[key] > maxCount) { maxChar = key; maxCount = counts[key]; } }

                let title = "", desc = "";
                if(maxChar === 'A') { title = "80‚Äì95%"; desc = "B·∫°n ƒëang ·ªü 'v√πng an to√†n'! Gi·ªØ phong ƒë·ªô nh√© üåü"; finalData.gradResult = "80-95% (An to√†n)"; }
                else if(maxChar === 'B') { title = "65‚Äì80%"; desc = "·ªîn √°p r·ªìi, ch·ªâ c·∫ßn tƒÉng t·ªëc l√† b·ª©t ph√° ngay üëç"; finalData.gradResult = "65-80% (Kh√° ·ªïn)"; }
                else if(maxChar === 'C') { title = "50‚Äì65%"; desc = "Ch∆∞a mu·ªôn ƒë√¢u! Ch·ªânh l·∫°i chi·∫øn thu·∫≠t √¥n t·∫≠p nh√© ‚ö†Ô∏è"; finalData.gradResult = "50-65% (C·ªë g·∫Øng)"; }
                else { title = "< 50%"; desc = "ƒê·ª´ng ho·∫£ng! B·∫Øt ƒë·∫ßu √¥n ngay h√¥m nay ƒë·ªÉ l·∫≠t k√®o üí™"; finalData.gradResult = "D∆∞·ªõi 50% (B·ª©t ph√°)"; }

                resultHTML += `<div class="swal-result-box grad">
                    <h5 class="fw-bold text-muted text-uppercase mb-1"><i class="fa-solid fa-fire text-danger"></i> T·ª∑ L·ªá T·ªët Nghi·ªáp</h5>
                    <div class="swal-big-text text-danger">${title}</div>
                    <p class="mb-0 fw-medium">${desc}</p>
                </div>`;
            }

            if(document.getElementById('chkHolland').checked) {
                const hMap = { h1: {A:'R',B:'C',C:'E',D:'S'}, h2: {A:'A',B:'S',C:'E',D:'I'}, h3: {A:'C',B:'E',C:'A',D:'S'}, h4: {A:'C',B:'I',C:'E',D:'A'}, h5: {A:'S',B:'R',C:'A',D:'C'}, h6: {A:'E',B:'I',C:'S',D:'R'} };
                const hInfo = { R:{t:"Th·ª±c t·∫ø",j:"K·ªπ thu·∫≠t, C∆° kh√≠, C√¥ng ngh·ªá"}, I:{t:"Nghi√™n c·ª©u",j:"Y D∆∞·ª£c, CNTT, Khoa h·ªçc"}, A:{t:"Ngh·ªá thu·∫≠t",j:"Thi·∫øt k·∫ø, √Çm nh·∫°c, Truy·ªÅn th√¥ng"}, S:{t:"X√£ h·ªôi",j:"Gi√°o d·ª•c, Y t·∫ø, T∆∞ v·∫•n"}, E:{t:"Qu·∫£n l√Ω",j:"QTKD, Marketing, T√†i ch√≠nh"}, C:{t:"Nghi·ªáp v·ª•",j:"K·∫ø to√°n, H√†nh ch√≠nh, Th∆∞ k√Ω"} };
                
                let scores = { R:0, I:0, A:0, S:0, E:0, C:0 };
                for(let i=1; i<=6; i++) { let ans = formData.get('h'+i); finalData['h'+i] = ans || ""; if(ans) scores[hMap['h'+i][ans]]++; }
                let sorted = Object.keys(scores).sort((a, b) => scores[b] - scores[a]);
                let top3 = `${sorted[0]}${sorted[1]}${sorted[2]}`;
                let m = sorted[0];

                resultHTML += `<div class="swal-result-box holland">
                    <h5 class="fw-bold text-muted text-uppercase mb-1"><i class="fa-solid fa-puzzle-piece" style="color:#23d5ab;"></i> M√£ ƒê·ªãnh H∆∞·ªõng</h5>
                    <div class="swal-big-text" style="color:#23a6d5;">${top3}</div>
                    <p class="mb-1 fw-bold">Thi√™n h∆∞·ªõng: ${hInfo[m].t}</p>
                    <p class="mb-0 fw-medium text-muted">Ph√π h·ª£p: ${hInfo[m].j}</p>
                </div>`;
                finalData.hollandResult = `${top3} (${hInfo[m].t})`;
            }

            if(document.getElementById('chkLucky').checked) {
                resultHTML += `<div class="swal-result-box lucky text-center bg-white border">
                    <h5 class="fw-bold text-muted text-uppercase mb-2"><i class="fa-solid fa-gift text-warning"></i> M√£ L√¨ X√¨ C·ªßa B·∫°n</h5>
                    <div class="swal-big-text text-warning border border-warning rounded-pill py-2">${finalData.luckyCode}</div>
                    <p class="mb-0 mt-2 fw-medium small text-muted">Ch·ª•p ·∫£nh l·∫°i ƒë·ªÉ nh·∫≠n l·ªôc nh√©!</p>
                </div>`;
            }

            let finalAlertHTML = `
                <div class="mb-4 p-3 rounded" style="background: rgba(118, 75, 162, 0.08); border: 2px dashed #764ba2;">
                    <p class="fs-6 fw-bold mb-0" style="color: #764ba2; line-height: 1.5;">
                        "Chuy√™n gia t∆∞ v·∫•n s·∫Ω g·ªçi ƒëi·ªán v√† g·ª≠i t·ªõi em th√¥ng tin k·∫øt qu·∫£ chi ti·∫øt, em h√£y c√πng ch·ªù nh·ªØng b·∫•t ng·ªù v√† nh·∫≠n l√¨ x√¨ nh√©!" üéÅ
                    </p>
                </div>
                ${resultHTML}
            `;

            function fireConfetti() {
                var duration = 3 * 1000; var animationEnd = Date.now() + duration; var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 10000 };
                function randomInRange(min, max) { return Math.random() * (max - min) + min; }
                var interval = setInterval(function() {
                    var timeLeft = animationEnd - Date.now();
                    if (timeLeft <= 0) { return clearInterval(interval); }
                    var particleCount = 50 * (timeLeft / duration);
                    confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
                    confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
                }, 250);
            }

            if(GOOGLE_SCRIPT_URL !== "D√ÅN_LINK_WEB_APP_URL_C·ª¶A_B·∫†N_V√ÄO_ƒê√ÇY") {
                fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'text/plain;charset=utf-8' },
                    body: JSON.stringify(finalData)
                }).then(() => {
                    document.getElementById('loading').classList.add('d-none');
                    document.getElementById('loading').classList.remove('d-flex');
                    
                    fireConfetti(); 
                    
                    Swal.fire({
                        title: 'üéâ G·ª¨I TH√ÄNH C√îNG!', html: finalAlertHTML, width: 600, confirmButtonText: 'TUY·ªÜT V·ªúI!',
                        buttonsStyling: false, customClass: { confirmButton: 'btn btn-submit rounded-pill px-5 shadow-sm mt-2' }, backdrop: `rgba(0,0,0,0.6)`
                    });

                    // Reset
                    document.getElementById('mainForm').reset();
                    document.querySelectorAll('.dynamic-section').forEach(el => el.style.display = 'none');
                    document.getElementById('luckyCodeInput').value = '';
                    document.getElementById('luckyDisplay').innerText = '---------';
                    let spinBtn = document.getElementById('btnSpin');
                    spinBtn.disabled = false;
                    spinBtn.innerHTML = '<i class="fa-solid fa-rotate me-2"></i> B·∫§M ƒê·ªÇ QUAY S·ªê NH·∫¨N M√É';
                    spinBtn.classList.replace('btn-success', 'btn-warning');
                    isSpun = false;
                    window.scrollTo({ top: 0, behavior: 'smooth' });

                }).catch(err => {
                    document.getElementById('loading').classList.add('d-none');
                    Swal.fire('L·ªói', 'C√≥ l·ªói k·∫øt n·ªëi, vui l√≤ng th·ª≠ l·∫°i.', 'error');
                });
            } else {
                setTimeout(() => {
                    document.getElementById('loading').classList.add('d-none');
                    fireConfetti();
                    Swal.fire({ title: 'üéâ G·ª¨I TH√ÄNH C√îNG!', html: finalAlertHTML + "<hr><p class='text-danger fw-bold small text-center'>*Ch∆∞a g·∫Øn link Google Sheet.</p>", confirmButtonText: 'ƒê√ìNG', buttonsStyling: false, customClass: { confirmButton: 'btn btn-submit rounded-pill px-5 mt-2' }});
                }, 1000);
            }
        });
    </script>
</body>
</html>
