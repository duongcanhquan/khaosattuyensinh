<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kh√°m Ph√° B·∫£n Th√¢n C√πng Vi·ªát M·ªπ</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: #2d3748; min-height: 100vh; padding-top: 40px; padding-bottom: 60px;
        }
        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        
        .card-custom {
            background: rgba(255, 255, 255, 0.95); border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5); padding: 35px; margin-bottom: 25px;
        }
        .form-control, .form-select {
            border-radius: 15px; padding: 14px 20px; border: 1px solid #e2e8f0;
            background: rgba(255, 255, 255, 0.8); font-weight: 500; color: #1e293b; transition: all 0.3s;
        }
        .form-control:focus, .form-select:focus { background: #ffffff; box-shadow: 0 0 0 4px rgba(118, 75, 162, 0.15); border-color: #764ba2; }
        .form-label { font-weight: 700; color: #334155; margin-bottom: 8px; }

        .btn-submit {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;
            font-weight: 800; font-size: 1.2rem; padding: 16px 30px; border-radius: 50px; border: none;
            text-transform: uppercase; letter-spacing: 1px; transition: all 0.3s ease; box-shadow: 0 10px 25px rgba(118, 75, 162, 0.4);
        }
        .btn-submit:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(118, 75, 162, 0.6); color: white; }
        
        .btn-dropdown-custom { background: rgba(255,255,255,0.9); border: 2px solid #667eea; color: #475569; border-radius: 50px; font-weight: 700; }
        .dropdown-menu-custom { border-radius: 20px; border: none; box-shadow: 0 15px 40px rgba(0,0,0,0.15); padding: 15px; }

        .header-title { color: #ffffff; font-weight: 900; text-shadow: 0 4px 15px rgba(0,0,0,0.2); letter-spacing: -1px; }
        .section-title { font-weight: 800; color: #1e293b; margin-bottom: 25px; display: flex; align-items: center; gap: 12px; }
        .icon-gradient-1 { background: -webkit-linear-gradient(#ee7752, #e73c7e); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .icon-gradient-2 { background: -webkit-linear-gradient(#23a6d5, #23d5ab); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .icon-gradient-3 { background: -webkit-linear-gradient(#667eea, #764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        .question-box { background: rgba(248, 250, 252, 0.6); padding: 22px; border-radius: 18px; margin-bottom: 20px; border: 1px solid rgba(226, 232, 240, 0.8); transition: all 0.3s; }
        .question-box:hover { background: #ffffff; border-color: #667eea; transform: scale(1.01); box-shadow: 0 8px 20px rgba(102, 126, 234, 0.1); }
        .question-box p { font-weight: 700; margin-bottom: 12px; font-size: 1.05rem; }
        .form-check-label { cursor: pointer; font-weight: 500; padding-left: 5px; }
        .form-check-input { width: 1.3em; height: 1.3em; cursor: pointer; border-color: #cbd5e1; }
        .form-check-input:checked { background-color: #e73c7e; border-color: #e73c7e; }

        .dynamic-section { display: none; }
        .swal2-popup { border-radius: 25px !important; padding: 20px !important; }
        .swal-result-box { background: #f8fafc; border-radius: 15px; padding: 20px; margin-bottom: 15px; border-left: 6px solid; text-align: left; }
        .swal-result-box.grad { border-color: #e73c7e; }
        .swal-result-box.holland { border-color: #23d5ab; }
        .swal-result-box.lucky { border-color: #f59e0b; }
        .swal-big-text { font-size: 2rem; font-weight: 900; line-height: 1.2; margin: 10px 0; }
        
        #loading { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.85); backdrop-filter: blur(5px); z-index: 9999; flex-direction: column; justify-content: center; align-items: center; }
    </style>
</head>
<body>

    <div class="container animate__animated animate__fadeInDown">
        <div class="text-center mb-5">
            <h1 class="header-title display-5">üöÄ T∆Ø∆†NG LAI TRONG TAY B·∫†N</h1>
            <p class="text-white fs-5 opacity-75 fw-medium">C√πng Vi·ªát M·ªπ ƒë·ªãnh h∆∞·ªõng ng√†nh ngh·ªÅ & rinh l·ªôc may m·∫Øn!</p>
        </div>

        <form id="mainForm">
            <div class="card-custom">
                <h3 class="section-title"><i class="fa-solid fa-id-badge icon-gradient-3 fa-lg"></i> Th√¥ng Tin C∆° B·∫£n</h3>
                <div class="row g-4">
                    <div class="col-md-6">
                        <label class="form-label">H·ªç v√† t√™n h·ªçc sinh <span class="text-danger">*</span></label>
                        <input type="text" class="form-control shadow-sm" id="fullName" required placeholder="Nh·∫≠p h·ªç t√™n ƒë·∫ßy ƒë·ªß...">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Ng√†y sinh <span class="text-danger">*</span></label>
                        <input type="date" class="form-control shadow-sm" id="dob" required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">SƒêT Zalo (Nh·∫≠n k·∫øt qu·∫£) <span class="text-danger">*</span></label>
                        <input type="tel" class="form-control shadow-sm" id="zalo" pattern="[0-9]{10}" maxlength="10" title="Vui l√≤ng nh·∫≠p ch√≠nh x√°c 10 ch·ªØ s·ªë, v√≠ d·ª•: 0901234567" required placeholder="V√≠ d·ª•: 0901234567">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">ƒê·ªãa ch·ªâ hi·ªán t·∫°i</label>
                        <input type="text" class="form-control shadow-sm" id="address" placeholder="Qu·∫≠n/Huy·ªán, T·ªânh/Th√†nh ph·ªë...">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">ƒêang h·ªçc tr∆∞·ªùng THPT</label>
                        <input type="text" class="form-control shadow-sm" id="school" placeholder="T√™n tr∆∞·ªùng THPT...">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Ng√†nh ngh·ªÅ mong mu·ªën</label>
                        <input type="text" class="form-control shadow-sm" id="major" placeholder="V√≠ d·ª•: Marketing, IT...">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Th·∫ßy/C√¥ t∆∞ v·∫•n (N·∫øu c√≥)</label>
                        <select class="form-select shadow-sm" id="teacher">
                            <option value="">ƒêang t·∫£i danh s√°ch...</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="card-custom">
                <h3 class="section-title"><i class="fa-solid fa-layer-group icon-gradient-2 fa-lg"></i> B·∫°n Mu·ªën Kh√°m Ph√° G√¨?</h3>
                <div class="dropdown">
                    <button class="btn btn-dropdown-custom w-100 text-start d-flex justify-content-between align-items-center p-3 fs-5" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                        <span><i class="fa-solid fa-hand-pointer me-2"></i> B·∫•m ƒë·ªÉ ch·ªçn b√†i Test...</span>
                        <i class="fa-solid fa-chevron-down"></i>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-custom w-100" aria-labelledby="dropdownMenuButton" onclick="event.stopPropagation()">
                        <li>
                            <div class="form-check p-2 rounded hover-bg">
                                <input class="form-check-input check-experience ms-1" type="checkbox" value="sec-grad" id="chkGrad">
                                <label class="form-check-label ms-2 fs-5" for="chkGrad">üéØ D·ª± ƒëo√°n T·ª∑ l·ªá ƒë·ªó T·ªët Nghi·ªáp</label>
                            </div>
                        </li>
                        <li>
                            <div class="form-check p-2 rounded hover-bg mt-2">
                                <input class="form-check-input check-experience ms-1" type="checkbox" value="sec-holland" id="chkHolland">
                                <label class="form-check-label ms-2 fs-5" for="chkHolland">üß† Tr·∫Øc nghi·ªám T√≠nh c√°ch Holland</label>
                            </div>
                        </li>
                        <li>
                            <div class="form-check p-2 rounded hover-bg mt-2">
                                <input class="form-check-input check-experience ms-1" type="checkbox" value="sec-lucky" id="chkLucky">
                                <label class="form-check-label ms-2 fs-5" for="chkLucky">üßß R√∫t m√£ L√¨ X√¨ Khai Xu√¢n</label>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <div id="sec-grad" class="card-custom dynamic-section animate__animated animate__fadeInUp">
                <h3 class="section-title"><i class="fa-solid fa-fire icon-gradient-1 fa-lg"></i> T·ª∑ L·ªá ƒê·ªó T·ªët Nghi·ªáp</h3>
                
                <div class="question-box">
                    <p>C√¢u 1Ô∏è‚É£ G·∫ßn ng√†y thi, t√¢m tr·∫°ng h·ªçc t·∫≠p c·ªßa b·∫°n l√†:</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g1" value="A"> <label class="form-check-label">A. V·∫´n h·ªçc ƒë·ªÅu, kh√¥ng qu√° ho·∫£ng üòé</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g1" value="B"> <label class="form-check-label">B. C√≥ h∆°i √°p l·ª±c nh∆∞ng v·∫´n c·ªë g·∫Øng üìö</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g1" value="C"> <label class="form-check-label">C. H·ªçc tr∆∞·ªõc qu√™n sau, h∆°i r·ªëi üòµ</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="g1" value="D"> <label class="form-check-label">D. Nghƒ© t·ªõi thi l√† th·∫•y cƒÉng li·ªÅn ü´†</label></div>
                </div>
                <div class="question-box">
                    <p>C√¢u 2Ô∏è‚É£ M·ªói ng√†y b·∫°n d√†nh bao l√¢u ƒë·ªÉ √¥n b√†i?</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g2" value="A"> <label class="form-check-label">A. Tr√™n 3 ti·∫øng ‚è∞</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g2" value="B"> <label class="form-check-label">B. 1‚Äì2 ti·∫øng ‚è±Ô∏è</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g2" value="C"> <label class="form-check-label">C. Khi n√†o r·∫£nh m·ªõi √¥n üòÖ</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="g2" value="D"> <label class="form-check-label">D. Ch·ªß y·∫øu l√†‚Ä¶ ƒë·ªÉ mai üì±</label></div>
                </div>
                <div class="question-box">
                    <p>C√¢u 3Ô∏è‚É£ K·∫øt qu·∫£ c√°c b√†i ki·ªÉm tra/thi th·ª≠ g·∫ßn ƒë√¢y c·ªßa b·∫°n:</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g3" value="A"> <label class="form-check-label">A. Ph·∫ßn l·ªõn tr√™n 7 ƒëi·ªÉm üëç</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g3" value="B"> <label class="form-check-label">B. Kho·∫£ng 6‚Äì7 ƒëi·ªÉm</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g3" value="C"> <label class="form-check-label">C. D∆∞·ªõi 6 ƒëi·ªÉm</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="g3" value="D"> <label class="form-check-label">D. Kh√¥ng ·ªïn ƒë·ªãnh, l√∫c ƒë∆∞·ª£c l√∫c kh√¥ng üò≠</label></div>
                </div>
                <div class="question-box">
                    <p>C√¢u 4Ô∏è‚É£ Khi g·∫∑p c√¢u kh√≥ trong ƒë·ªÅ, b·∫°n th∆∞·ªùng:</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g4" value="A"> <label class="form-check-label">A. B·ªè qua, l√†m c√¢u d·ªÖ tr∆∞·ªõc r·ªìi quay l·∫°i üí°</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g4" value="B"> <label class="form-check-label">B. Nghƒ© m·ªôt l√∫c r·ªìi ch·ªçn ƒë√°p √°n h·ª£p l√Ω</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g4" value="C"> <label class="form-check-label">C. L√†m ƒë·∫°i cho k·ªãp gi·ªù</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="g4" value="D"> <label class="form-check-label">D. Ng·ªìi nh√¨n ƒë·ªìng h·ªì ch·∫°y ‚è∞üò∂</label></div>
                </div>
                <div class="question-box">
                    <p>C√¢u 5Ô∏è‚É£ Khi nh√¨n ƒë·ªÅ thi th·ª≠, c·∫£m gi√°c c·ªßa b·∫°n l√†:</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g5" value="A"> <label class="form-check-label">A. Nhi·ªÅu c√¢u quen, l√†m ƒë∆∞·ª£c ngay</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g5" value="B"> <label class="form-check-label">B. C√≥ quen c√≥ l·∫°</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="g5" value="C"> <label class="form-check-label">C. Th·∫•y l·∫° l√† nhi·ªÅu</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="g5" value="D"> <label class="form-check-label">D. Nh√¨n m√† mu·ªën‚Ä¶ quay xe ü´†</label></div>
                </div>
            </div>

            <div id="sec-holland" class="card-custom dynamic-section animate__animated animate__fadeInUp">
                <h3 class="section-title"><i class="fa-solid fa-puzzle-piece icon-gradient-2 fa-lg"></i> Tr·∫Øc Nghi·ªám Holland</h3>
                
                <div class="question-box">
                    <p>1. N·∫øu chi·∫øc xe ƒë·∫°p/m√°y t√≠nh b·ªã h·ªèng, b·∫°n s·∫Ω:</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h1" value="A"> <label class="form-check-label">A. M·ªü ra t√¨m hi·ªÉu c·∫•u t·∫°o, t·ª± s·ª≠a ch·ªØa.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h1" value="B"> <label class="form-check-label">B. T√¨m video h∆∞·ªõng d·∫´n chi ti·∫øt.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h1" value="C"> <label class="form-check-label">C. Thu√™ th·ª£ gi·ªèi ƒë·∫øn s·ª≠a v√† quan s√°t.</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="h1" value="D"> <label class="form-check-label">D. K√™u g·ªçi b·∫°n b√®/ng∆∞·ªùi th√¢n gi√∫p ƒë·ª°.</label></div>
                </div>
                <div class="question-box">
                    <p>2. Ch·ªçn m·ªôt m√¥n h·ªçc ngo·∫°i kh√≥a, b·∫°n th√≠ch nh·∫•t:</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h2" value="A"> <label class="form-check-label">A. CLB D·ª±ng phim / Thi·∫øt k·∫ø.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h2" value="B"> <label class="form-check-label">B. CLB T√¨nh nguy·ªán h·ªó tr·ª£ tr·∫ª em.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h2" value="C"> <label class="form-check-label">C. CLB Kh·ªüi nghi·ªáp & Kinh doanh.</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="h2" value="D"> <label class="form-check-label">D. CLB Nghi√™n c·ª©u Robot / V·∫≠t l√Ω.</label></div>
                </div>
                <div class="question-box">
                    <p>3. Trong d·ª± √°n nh√≥m, vai tr√≤ khi·∫øn b·∫°n h√†o h·ª©ng nh·∫•t?</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h3" value="A"> <label class="form-check-label">A. Ng∆∞·ªùi thu th·∫≠p, s·∫Øp x·∫øp d·ªØ li·ªáu, l·ªãch tr√¨nh.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h3" value="B"> <label class="form-check-label">B. Ng∆∞·ªùi l√™n √Ω t∆∞·ªüng l·ªõn, "b√°n" √Ω t∆∞·ªüng.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h3" value="C"> <label class="form-check-label">C. Th·ª±c hi·ªán t·∫°o h√¨nh, ƒë·ªì h·ªça, l·ªùi vƒÉn.</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="h3" value="D"> <label class="form-check-label">D. Ng∆∞·ªùi h∆∞·ªõng d·∫´n, l·∫Øng nghe, h√≤a gi·∫£i.</label></div>
                </div>
                <div class="question-box">
                    <p>4. Khi ƒë·ªçc t√†i li·ªáu m·ªõi, ƒëi·ªÅu g√¨ h·∫•p d·∫´n b·∫°n nh·∫•t?</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h4" value="A"> <label class="form-check-label">A. Con s·ªë, bi·ªÉu ƒë·ªì, quy tr√¨nh.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h4" value="B"> <label class="form-check-label">B. Gi·∫£ thuy·∫øt khoa h·ªçc, b·∫±ng ch·ª©ng logic.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h4" value="C"> <label class="form-check-label">C. C√¢u chuy·ªán truy·ªÅn c·∫£m h·ª©ng th√†nh c√¥ng.</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="h4" value="D"> <label class="form-check-label">D. √ù t∆∞·ªüng thi·∫øt k·∫ø, ng√¥n ng·ªØ gi√†u h√¨nh ·∫£nh.</label></div>
                </div>
                <div class="question-box">
                    <p>5. Trong th·ªùi gian r·∫£nh, b·∫°n th√≠ch nh·∫•t l√†m g√¨?</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h5" value="A"> <label class="form-check-label">A. D·∫°y l·∫°i ki·∫øn th·ª©c ho·∫∑c l√†m gia s∆∞.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h5" value="B"> <label class="form-check-label">B. L√†m v∆∞·ªùn, t·∫≠p gym, ph∆∞·ª£t, l·∫Øp r√°p.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h5" value="C"> <label class="form-check-label">C. Vi·∫øt nh·∫≠t k√Ω, v·∫Ω, s√°ng t√°c nh·∫°c.</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="h5" value="D"> <label class="form-check-label">D. L√™n k·∫ø ho·∫°ch chi ti√™u, s·∫Øp x·∫øp t√†i li·ªáu.</label></div>
                </div>
                <div class="question-box">
                    <p>6. Gi·∫£ s·ª≠ b·∫°n nh·∫∑t ƒë∆∞·ª£c ti·ªÅn, b·∫°n s·∫Ω:</p>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h6" value="A"> <label class="form-check-label">A. ƒêem ƒë·∫ßu t∆∞, kinh doanh nh·ªè xem sinh l·ªùi.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h6" value="B"> <label class="form-check-label">B. Ph√¢n t√≠ch ngu·ªìn g·ªëc ƒë·ªÉ t√¨m tr·∫£ ng∆∞·ªùi m·∫•t.</label></div>
                    <div class="form-check mb-2"><input class="form-check-input" type="radio" name="h6" value="C"> <label class="form-check-label">C. T·ªï ch·ª©c ti·ªác t√πng cho b·∫°n b√®.</label></div>
                    <div class="form-check"><input class="form-check-input" type="radio" name="h6" value="D"> <label class="form-check-label">D. Mua thi·∫øt b·ªã ph·ª•c v·ª• s·ªü th√≠ch c√° nh√¢n.</label></div>
                </div>
            </div>

            <div id="sec-lucky" class="card-custom dynamic-section text-center animate__animated animate__fadeInUp">
                <h3 class="section-title justify-content-center"><i class="fa-solid fa-envelope-open-text icon-gradient-1 fa-lg"></i> Nh·∫≠n L√¨ X√¨ Khai Xu√¢n</h3>
                <p class="fs-5 text-muted fw-medium">Nh·∫•n G·ª≠i ƒë·ªÉ h·ªá th·ªëng ph√°t l·ªôc t·ª± ƒë·ªông cho b·∫°n nh√©!</p>
                <div style="font-size: 80px; text-shadow: 0 10px 20px rgba(0,0,0,0.2); animation: pulse 2s infinite;">üßß</div>
            </div>

            <div class="text-center mt-4">
                <button type="submit" class="btn btn-submit w-100" id="btnSubmitAll">
                    <i class="fa-solid fa-paper-plane me-2"></i> G·ª¨I TH√îNG TIN V√Ä XEM K·∫æT QU·∫¢ NGAY
                </button>
            </div>
        </form>
    </div>

    <div id="loading" class="d-none">
        <div class="spinner-border" style="width: 4rem; height: 4rem; color: #764ba2;" role="status"></div>
        <h3 class="mt-4 fw-bold" style="color: #667eea;">H·ªá th·ªëng ƒëang ph√¢n t√≠ch...</h3>
        <p class="text-muted fw-medium">Ch·ªù m·ªôt x√≠u xiu nh√© üöÄ</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 1. D√ÅN LINK GOOGLE SCRIPT V√ÄO ƒê√ÇY
        const GOOGLE_SCRIPT_URL = "D√ÅN_LINK_WEB_APP_URL_C·ª¶A_B·∫†N_V√ÄO_ƒê√ÇY";

        // T·ª± ƒë·ªông load danh s√°ch Th·∫ßy C√¥ t·ª´ Google Sheet khi v√†o trang
        window.addEventListener('load', function() {
            if (GOOGLE_SCRIPT_URL.includes("script.google.com")) {
                fetch(GOOGLE_SCRIPT_URL, { redirect: "follow" })
                .then(res => res.json())
                .then(data => {
                    const select = document.getElementById('teacher');
                    select.innerHTML = '<option value="">-- Ch·ªçn Th·∫ßy/C√¥ (T√πy ch·ªçn) --</option>';
                    data.forEach(t => {
                        let opt = document.createElement('option');
                        opt.value = `${t.name} - ${t.email}`; // L∆∞u T√™n v√† Email ƒë·ªÉ n8n b·∫Øt
                        opt.text = t.name;
                        select.appendChild(opt);
                    });
                }).catch(err => {
                    console.error("L·ªói:", err);
                    document.getElementById('teacher').innerHTML = '<option value="">(L·ªói t·∫£i danh s√°ch)</option>';
                });
            }
        });

        const checkBoxes = document.querySelectorAll('.check-experience');
        const btnDropdown = document.getElementById('dropdownMenuButton');

        checkBoxes.forEach(cb => {
            cb.addEventListener('change', function() {
                const section = document.getElementById(this.value);
                if (this.checked) {
                    section.style.display = 'block';
                    section.classList.add('animate__fadeInUp');
                } else {
                    section.style.display = 'none';
                }
                
                let checkedCount = document.querySelectorAll('.check-experience:checked').length;
                btnDropdown.querySelector('span').innerHTML = checkedCount === 0 ? '<i class="fa-solid fa-hand-pointer me-2"></i> B·∫•m ƒë·ªÉ ch·ªçn b√†i Test...' : `<i class="fa-solid fa-check-double me-2 text-success"></i> ƒê√£ ch·ªçn ${checkedCount} b√†i Test`;
                
                const radios = section.querySelectorAll('input[type="radio"]');
                radios.forEach(r => r.required = this.checked);
            });
        });

        document.getElementById('mainForm').addEventListener('submit', function(e) {
            e.preventDefault();
            document.getElementById('loading').classList.remove('d-none');
            document.getElementById('loading').classList.add('d-flex');

            let formData = new FormData(this);
            
            // Format ng√†y sinh t·ª´ YYYY-MM-DD sang DD/MM/YYYY
            let dobRaw = document.getElementById('dob').value;
            let [y, m, d] = dobRaw.split('-');
            let dobFormatted = `${d}/${m}/${y}`;

            let finalData = {
                fullName: document.getElementById('fullName').value, dob: dobFormatted,
                zalo: document.getElementById('zalo').value, address: document.getElementById('address').value,
                school: document.getElementById('school').value, major: document.getElementById('major').value,
                teacher: document.getElementById('teacher').value,
                g1: "", g2: "", g3: "", g4: "", g5: "", gradResult: "",
                h1: "", h2: "", h3: "", h4: "", h5: "", h6: "", hollandResult: "", luckyCode: ""
            };

            let resultHTML = "";

            if(document.getElementById('chkGrad').checked) {
                let counts = { A: 0, B: 0, C: 0, D: 0 };
                for(let i=1; i<=5; i++) { let ans = formData.get('g'+i); finalData['g'+i] = ans || ""; if(ans) counts[ans]++; }
                let maxChar = 'A', maxCount = counts['A'];
                for(let key in counts) { if(counts[key] > maxCount) { maxChar = key; maxCount = counts[key]; } }

                let title = "", desc = "";
                if(maxChar === 'A') { title = "80‚Äì95%"; desc = "B·∫°n ƒëang ·ªü 'v√πng an to√†n'! Gi·ªØ phong ƒë·ªô nh√© üåü"; finalData.gradResult = "80-95% (An to√†n)"; }
                else if(maxChar === 'B') { title = "65‚Äì80%"; desc = "·ªîn √°p r·ªìi, ch·ªâ c·∫ßn tƒÉng t·ªëc l√† b·ª©t ph√° ngay üëç"; finalData.gradResult = "65-80% (Kh√° ·ªïn)"; }
                else if(maxChar === 'C') { title = "50‚Äì65%"; desc = "Ch∆∞a mu·ªôn ƒë√¢u! Ch·ªânh l·∫°i chi·∫øn thu·∫≠t √¥n t·∫≠p nh√© ‚ö†Ô∏è"; finalData.gradResult = "50-65% (C·ªë g·∫Øng)"; }
                else { title = "< 50%"; desc = "ƒê·ª´ng ho·∫£ng! B·∫Øt ƒë·∫ßu √¥n ngay h√¥m nay ƒë·ªÉ l·∫≠t k√®o üí™"; finalData.gradResult = "D∆∞·ªõi 50% (B·ª©t ph√°)"; }

                resultHTML += `<div class="swal-result-box grad">
                    <h5 class="fw-bold text-muted text-uppercase mb-1"><i class="fa-solid fa-fire text-danger"></i> T·ª∑ L·ªá T·ªët Nghi·ªáp</h5>
                    <div class="swal-big-text text-danger">${title}</div>
                    <p class="mb-0 fw-medium">${desc}</p>
                </div>`;
            }

            if(document.getElementById('chkHolland').checked) {
                const hMap = { h1: {A:'R',B:'C',C:'E',D:'S'}, h2: {A:'A',B:'S',C:'E',D:'I'}, h3: {A:'C',B:'E',C:'A',D:'S'}, h4: {A:'C',B:'I',C:'E',D:'A'}, h5: {A:'S',B:'R',C:'A',D:'C'}, h6: {A:'E',B:'I',C:'S',D:'R'} };
                const hInfo = { R:{t:"Th·ª±c t·∫ø",j:"K·ªπ thu·∫≠t, C∆° kh√≠, C√¥ng ngh·ªá"}, I:{t:"Nghi√™n c·ª©u",j:"Y D∆∞·ª£c, CNTT, Khoa h·ªçc"}, A:{t:"Ngh·ªá thu·∫≠t",j:"Thi·∫øt k·∫ø, √Çm nh·∫°c, Truy·ªÅn th√¥ng"}, S:{t:"X√£ h·ªôi",j:"Gi√°o d·ª•c, Y t·∫ø, T∆∞ v·∫•n"}, E:{t:"Qu·∫£n l√Ω",j:"QTKD, Marketing, T√†i ch√≠nh"}, C:{t:"Nghi·ªáp v·ª•",j:"K·∫ø to√°n, H√†nh ch√≠nh, Th∆∞ k√Ω"} };
                
                let scores = { R:0, I:0, A:0, S:0, E:0, C:0 };
                for(let i=1; i<=6; i++) { let ans = formData.get('h'+i); finalData['h'+i] = ans || ""; if(ans) scores[hMap['h'+i][ans]]++; }
                let sorted = Object.keys(scores).sort((a, b) => scores[b] - scores[a]);
                let top3 = `${sorted[0]}${sorted[1]}${sorted[2]}`;
                let m = sorted[0];

                resultHTML += `<div class="swal-result-box holland">
                    <h5 class="fw-bold text-muted text-uppercase mb-1"><i class="fa-solid fa-puzzle-piece" style="color:#23d5ab;"></i> M√£ ƒê·ªãnh H∆∞·ªõng</h5>
                    <div class="swal-big-text" style="color:#23a6d5;">${top3}</div>
                    <p class="mb-1 fw-bold">Thi√™n h∆∞·ªõng: ${hInfo[m].t}</p>
                    <p class="mb-0 fw-medium text-muted">Ph√π h·ª£p: ${hInfo[m].j}</p>
                </div>`;
                finalData.hollandResult = `${top3} (${hInfo[m].t})`;
            }

            if(document.getElementById('chkLucky').checked) {
                const d = new Date();
                const code = String(d.getFullYear()).slice(-2) + String(d.getMonth() + 1).padStart(2, '0') + String(d.getDate()).padStart(2, '0') + String(Math.floor(Math.random()*900)+100);
                resultHTML += `<div class="swal-result-box lucky text-center bg-white shadow-sm border">
                    <h5 class="fw-bold text-muted text-uppercase mb-2"><i class="fa-solid fa-gift text-warning"></i> M√£ L√¨ X√¨ C·ªßa B·∫°n</h5>
                    <div class="swal-big-text text-warning border border-warning rounded-pill py-2">${code}</div>
                    <p class="mb-0 mt-2 fw-medium small text-muted">Ch·ª•p ·∫£nh l·∫°i ƒë·ªÉ TVTS t·∫∑ng l·ªôc nh√©!</p>
                </div>`;
                finalData.luckyCode = code;
            }

            // G·∫Øn th√¥ng b√°o t√πy ch·ªânh l√™n ƒë·∫ßu n·ªôi dung SweetAlert
            let finalAlertHTML = `
                <div class="mb-4 p-3 rounded" style="background: rgba(118, 75, 162, 0.08); border: 2px dashed #764ba2;">
                    <p class="fs-5 fw-bold mb-0" style="color: #764ba2; line-height: 1.5;">
                        "Chuy√™n gia t∆∞ v·∫•n s·∫Ω g·ªçi ƒëi·ªán v√† g·ª≠i t·ªõi em th√¥ng tin k·∫øt qu·∫£ chi ti·∫øt, em h√£y c√πng ch·ªù nh·ªØng b·∫•t ng·ªù v√† nh·∫≠n l√¨ x√¨ nh√©!" üéÅ
                    </p>
                </div>
                ${resultHTML}
            `;

            if(GOOGLE_SCRIPT_URL !== "https://script.google.com/macros/s/AKfycbxYHnpw8IaV8Xh0ZPRYG8f7nOdf4EEIK0SFPQrT3mFVGZJEP4sMA2W3GXh78xpK4sw90w/exec") {
                fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST', mode: 'no-cors',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(finalData)
                }).then(() => {
                    document.getElementById('loading').classList.add('d-none');
                    document.getElementById('loading').classList.remove('d-flex');
                    
                    Swal.fire({
                        title: 'üéâ G·ª¨I TH√ÄNH C√îNG! üéâ',
                        html: finalAlertHTML,
                        width: 650,
                        confirmButtonText: 'TUY·ªÜT V·ªúI!',
                        buttonsStyling: false,
                        customClass: { confirmButton: 'btn btn-submit rounded-pill px-5 shadow-sm mt-3' },
                        backdrop: `rgba(0,0,123,0.4)`
                    });

                    document.getElementById('mainForm').reset();
                    document.querySelectorAll('.dynamic-section').forEach(el => el.style.display = 'none');
                    btnDropdown.querySelector('span').innerHTML = '<i class="fa-solid fa-hand-pointer me-2"></i> B·∫•m ƒë·ªÉ ch·ªçn b√†i Test...';
                }).catch(err => {
                    document.getElementById('loading').classList.add('d-none');
                    Swal.fire('L·ªói', 'C√≥ l·ªói k·∫øt n·ªëi, vui l√≤ng th·ª≠ l·∫°i.', 'error');
                });
            } else {
                setTimeout(() => {
                    document.getElementById('loading').classList.add('d-none');
                    Swal.fire({ title: 'üéâ G·ª¨I TH√ÄNH C√îNG! üéâ', html: finalAlertHTML + "<hr><p class='text-danger fw-bold small text-center'>*Ch∆∞a g·∫Øn link Google Sheet.</p>", width: 650, confirmButtonText: 'ƒê√ìNG', buttonsStyling: false, customClass: { confirmButton: 'btn btn-submit rounded-pill px-5 mt-3' }});
                }, 1000);
            }
        });
    </script>
</body>
</html>
